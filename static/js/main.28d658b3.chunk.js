(this.webpackJsonptrybewallet=this.webpackJsonptrybewallet||[]).push([[0],{32:function(e,t,a){e.exports=a(51)},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(17),c=a.n(l),o=a(19),i=a(10),u=a(2),s=a(15),m=a(8),p=a(9),d=a(12),h=a(11),E=a(21),b=a.n(E),v=a(28),f=a(6),g=function(e){return{type:"LOGIN",value:e}},O=function(e,t){return{type:"ADD_EXPENSE",expenses:Object(f.a)(Object(f.a)({},t),{},{exchangeRates:e})}},y=function(e){return{type:"REMOVE_EXPENSE",expenseItemId:e}},j=function(e){return{type:"GET_CURRENCIES_QUOTATIONS",currencies:e}};function C(e){return function(){var t=Object(v.a)(b.a.mark((function t(a){var n,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"REQUEST_CURRENCIES"}),"https://economia.awesomeapi.com.br/json/all",t.next=5,fetch("https://economia.awesomeapi.com.br/json/all");case 5:return n=t.sent,t.next=8,n.json();case 8:r=t.sent,a(e?O(r,e):j(r)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.error(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()}a(42);var x=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:""},e.onInputChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(s.a)({},n,r))},e.btnLogin=function(){var t=e.state.email,a=e.props,n=a.dispatch,r=a.history;n(g({email:t})),r.push("/carteira")},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password;return r.a.createElement("form",{className:"loginForm"},r.a.createElement("h4",null,"\xc1rea de Login"),r.a.createElement("input",{type:"email",name:"email",placeholder:"E-mail","data-testid":"email-input",className:"loginFromInputs",value:t,onChange:this.onInputChange}),r.a.createElement("input",{type:"password",name:"password",placeholder:"Password","data-testid":"password-input",className:"loginFromInputs",value:a,onChange:this.onInputChange}),r.a.createElement("button",{type:"button",className:"loginBtn",disabled:!t.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)||a.length<=5,onClick:this.btnLogin},"Entrar"))}}]),a}(n.Component),w=Object(i.b)()(x),F=(a(43),function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props,t=e.email,a=e.expenses.reduce((function(e,t){var a=t.currency,n=t.exchangeRates,r=t.value;return e+Number(r*n[a].ask)}),0);return r.a.createElement("header",null,r.a.createElement("ul",null,r.a.createElement("li",{"data-testid":"email-field"},"E-mail: ".concat(t)),r.a.createElement("li",{"data-testid":"total-field"},"Despesa Total: R$".concat(a)),r.a.createElement("li",{"data-testid":"header-currency-field"},"BRL")))}}]),a}(r.a.Component)),I=Object(i.b)((function(e){return{email:e.user.email,expenses:e.wallet.expenses}}))(F),S={description:"",value:0,currency:"USD",method:"Dinheiro",tag:"Alimenta\xe7\xe3o"},k=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={id:0,description:"",value:0,currency:"USD",method:"Dinheiro",tag:"Alimenta\xe7\xe3o"},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(s.a)({},n,r))},e.AddExpense=function(){e.setState((function(e){return{id:e.id+1}})),(0,e.props.dispatch)(C(e.state)),e.resetFormInputs()},e.resetFormInputs=function(){return e.setState(S)},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.dispatch)(C())}},{key:"render",value:function(){var e=this.state,t=e.description,a=e.value,n=e.currency,l=e.method,c=e.tag,o=this.props.currencies,i=Object.keys(o).filter((function(e){return"USDT"!==e}));return r.a.createElement("form",null,r.a.createElement("label",{htmlFor:"description"},"Descri\xe7\xe3o:",r.a.createElement("input",{type:"text",name:"description","data-testid":"description-input",value:t,onChange:this.handleChange})),r.a.createElement("label",{htmlFor:"value"},"Valor:",r.a.createElement("input",{type:"number",name:"value","data-testid":"value-input",value:a,onChange:this.handleChange})),r.a.createElement("label",{htmlFor:"currency"},"Moeda:",r.a.createElement("select",{"data-testid":"currency-input",name:"currency",id:"currency",value:n,onChange:this.handleChange},i.map((function(e,t){return r.a.createElement("option",{key:t,value:e,"data-testid":e},e)})))),r.a.createElement("label",{htmlFor:"method"},"M\xe9todo de pagamento:",r.a.createElement("select",{"data-testid":"method-input",name:"method",id:"method",value:l,onChange:this.handleChange},r.a.createElement("option",{value:"Dinheiro"},"Dinheiro"),r.a.createElement("option",{value:"Cart\xe3o de cr\xe9dito"},"Cart\xe3o de cr\xe9dito"),r.a.createElement("option",{value:"Cart\xe3o de d\xe9bito"},"Cart\xe3o de d\xe9bito"))),r.a.createElement("label",{htmlFor:"tag"},"Categoria:",r.a.createElement("select",{"data-testid":"tag-input",name:"tag",id:"tag",value:c,onChange:this.handleChange},r.a.createElement("option",{value:"Alimenta\xe7\xe3o"},"Alimenta\xe7\xe3o"),r.a.createElement("option",{value:"Lazer"},"Lazer"),r.a.createElement("option",{value:"Trabalho"},"Trabalho"),r.a.createElement("option",{value:"Transporte"},"Transporte"),r.a.createElement("option",{value:"Sa\xfade"},"Sa\xfade"))),r.a.createElement("button",{type:"button",onClick:this.AddExpense},"Adicionar despesa"))}}]),a}(r.a.Component),R=Object(i.b)((function(e){return{currencies:e.wallet.currencies}}))(k),N=(a(44),function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).deleteExpenseItem=function(t){(0,e.props.dispatch)(y(t))},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=this.props.expenses;return r.a.createElement("table",{className:"expensesTable"},r.a.createElement("caption",null,"Expenses Table"),r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Descri\xe7\xe3o"),r.a.createElement("th",null,"Tag"),r.a.createElement("th",null,"M\xe9todo de pagamento"),r.a.createElement("th",null,"Valor"),r.a.createElement("th",null,"Moeda"),r.a.createElement("th",null,"C\xe2mbio utilizado"),r.a.createElement("th",null,"Valor convertido"),r.a.createElement("th",null,"Moeda de convers\xe3o"),r.a.createElement("th",null,"Editar/Excluir"))),r.a.createElement("tbody",null,t.map((function(t){var a=t.currency,n=t.description,l=t.value,c=t.method,o=t.tag,i=t.id,u=t.exchangeRates,s=parseFloat(u[a].ask);return r.a.createElement("tr",{key:i},r.a.createElement("td",null,n),r.a.createElement("td",null,o),r.a.createElement("td",null,c),r.a.createElement("td",null,parseFloat(l).toFixed(2)),r.a.createElement("td",null,u[a].name.split("/")[0]),r.a.createElement("td",null,s.toFixed(2)),r.a.createElement("td",null,parseFloat(l*s).toFixed(2)),r.a.createElement("td",null,"Real"),r.a.createElement("td",null,r.a.createElement("button",{type:"button","data-testid":"delete-btn",onClick:function(){return e.deleteExpenseItem(i)}},"Excluir")))}))))}}]),a}(r.a.Component)),T=Object(i.b)((function(e){return{expenses:e.wallet.expenses}}))(N),D=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(I,null),r.a.createElement(R,null),r.a.createElement(T,null))}}]),a}(r.a.Component);a(45);var A=function(){return r.a.createElement(u.c,null,r.a.createElement(u.a,{exact:!0,path:"/",component:w}),r.a.createElement(u.a,{path:"/carteira",component:D}))},U=a(13),_=a(29),M=a(30),L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return t.value;default:return e}},P=a(31),V={currencies:{},expenses:[],isFetching:!1},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_EXPENSE":return Object(f.a)(Object(f.a)({},e),{},{expenses:[].concat(Object(P.a)(e.expenses),[t.expenses]),isFetching:!1});case"REMOVE_EXPENSE":return Object(f.a)(Object(f.a)({},e),{},{expenses:e.expenses.filter((function(e){return e.id!==t.expenseItemId})),isFetching:!1});case"REQUEST_CURRENCIES":return Object(f.a)(Object(f.a)({},e),{},{isFetching:!0});case"GET_CURRENCIES_QUOTATIONS":return Object(f.a)(Object(f.a)({},e),{},{currencies:t.currencies,isFetching:!1});default:return e}},G=Object(U.combineReducers)({user:L,wallet:B}),Q=Object(U.createStore)(G,Object(M.composeWithDevTools)(Object(U.applyMiddleware)(_.a)));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(i.a,{store:Q},r.a.createElement(o.a,{basename:"/trybewallet"},r.a.createElement(A,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.28d658b3.chunk.js.map